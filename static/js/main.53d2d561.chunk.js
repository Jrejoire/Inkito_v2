(this.webpackJsonpinkito2=this.webpackJsonpinkito2||[]).push([[0],{1416:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),c=n(33),s=n.n(c),a=n(38),i=n(8),l=n.n(i),u=n(53),d=n(23),h=n(61),f=n(26),j=function(e){var t;try{t=JSON.parse(e)}catch(n){console.log("Error: "+n),console.log(e)}return t},p=function(e,t,n){var r;try{r=JSON.stringify(e,t,n)}catch(o){console.log("Error: "+o)}return r},b=(n(483),n(171),n(0)),m=new(n(769).Client)({app:"inkito",callbackURL:"https://www.inkito.io",accessToken:"access_token",scope:["vote","comment","follow","posting"]}),x="https://inkito-ipfs.herokuapp.com";var g=o.a.createContext("");function v(e){var t=e.children,n=Object(h.b)((function(){return{categories:["All Categories","Action","Comedy","Drama","Fantasy","Horror","Mystery","Romance","Sci-Fi","Slice Of Life"],activeComicCategory:"All Categories",activeNovelCategory:"All Categories",activeComicTrend:"all",activeNovelTrend:"all",trendingComics:[],newComics:[],trendingNovels:[],newNovels:[],last_trendyComic:{},last_newComic:{},last_trendyNovel:{},last_newNovel:{},seriesLinks:[],seriesDetail:[],seriesInfo:{},activeInfoTab:[],activeComments:[],authorInfo:[],userDetail:{},all_followers:[],all_following:[],loginLink:"",zoom:50,zoomIsActive:!1,clickedSeriesAuthor:"",clickedSeriesTitle:"",clickedSeriesContent:"",startPage:0,currentPage:0,loginIsActive:!1,navIsHidden:!1,navMenuIsActive:!1,shareMenuIsActive:!1,shareMenuBottomIsActive:!1,cookieConsent:null,replyIsActive:"",fetchComicState:"",fetchNovelState:"",postDetailState:"",seriesDetailState:"",seriesLinkState:"",commentState:"",authorInfoState:"",voteState:"",followState:"",updateProfileState:"",uploadState:"",updateActiveComicCategory:function(e){n.activeComicCategory=e},updateActiveNovelCategory:function(e){n.activeNovelCategory=e},updateActiveComicTrend:function(e){n.activeComicTrend=e},updateActiveNovelTrend:function(e){n.activeNovelTrend=e},updateCurrentPage:function(e){n.startPage=e,n.currentPage=e},scrollCurrentPage:function(e){n.currentPage=e},removeDuplicateContent:function(e,t){var n=t.map((function(e){return e.seriesId}));return e.filter((function(e){return!n.includes(e.seriesId)}))},resetSeriesDetail:function(){n.zoom=50,n.seriesDetail=[],n.seriesLinks=[],n.activeInfoTab=[],n.replyIsActive=""},toggleInfoTab:function(e){n.activeInfoTab[e]=!n.activeInfoTab[e],!1===n.activeInfoTab[e]&&(n.activeInfoTab=n.activeInfoTab.map((function(e){return!1})),n.activeComments[e]=!1)},closeInfoTab:function(){n.activeInfoTab=n.activeInfoTab.map((function(e){return!1}))},toggleComments:function(e){n.activeComments[e]=!n.activeComments[e]},toggleZoomBanner:function(e){!1===e&&!0===n.zoomIsActive?n.zoomIsActive=!1:void 0===e&&(n.zoomIsActive=!n.zoomIsActive)},toggleLogin:function(e){!1===e&&!0===n.loginIsActive?n.loginIsActive=!1:void 0===e&&(n.loginIsActive=!n.loginIsActive)},toggleNav:function(e){n.navIsHidden=e},toggleNavMenu:function(e){!1===e&&!0===n.navMenuIsActive?n.navMenuIsActive=!1:void 0===e&&(n.navMenuIsActive=!n.navMenuIsActive)},toggleShareMenu:function(e){!1===e&&!0===n.shareMenuIsActive?n.shareMenuIsActive=!1:void 0===e&&(n.shareMenuIsActive=!n.shareMenuIsActive)},toggleShareMenuBottom:function(e){!1===e&&!0===n.shareMenuBottomIsActive?n.shareMenuBottomIsActive=!1:void 0===e&&(n.shareMenuBottomIsActive=!n.shareMenuBottomIsActive)},updateZoom:function(e){(n.zoom>30&&n.zoom<90||30===n.zoom&&e>0||90===n.zoom&&e<0)&&(n.zoom=n.zoom+e)},checkCookieConsent:function(){var e=localStorage.getItem("cookie-consent");n.cookieConsent=j(e)},toggleReplyIsActive:function(e){n.replyIsActive===e?n.replyIsActive="":n.replyIsActive!==e&&(n.replyIsActive=e)},addTrendyComic:function(e){if(e&&e.data){var t=e.data;0!==n.trendingComics.length&&n.trendingComics.some((function(e){return e.seriesId===t.seriesId}))||(n.trendingComics.push(t),n.newComics=n.removeDuplicateContent(n.newComics,n.trendingComics))}else e&&e.bookmark&&(n.last_trendyComic=e.bookmark)},addNewComic:function(e){if(e&&e.data){var t=e.data;0!==n.newComics.length&&n.newComics.some((function(e){return e.seriesId===t.seriesId}))||0!==n.trendingComics.length&&n.trendingComics.some((function(e){return e.seriesId===t.seriesId}))||n.newComics.push(t)}else e&&e.bookmark&&(n.last_newComic=e.bookmark)},addTrendyNovel:function(e){if(e&&e.data){var t=e.data;0!==n.trendingNovels.length&&n.trendingNovels.some((function(e){return e.seriesId===t.seriesId}))||(n.trendingNovels.push(t),n.newNovels=n.removeDuplicateContent(n.newNovels,n.trendingNovels))}else e&&e.bookmark&&(n.last_trendyNovel=e.bookmark)},addNewNovel:function(e){if(e&&e.data){var t=e.data;0!==n.newNovels.length&&n.newNovels.some((function(e){return e.seriesId===t.seriesId}))||0!==n.trendingNovels.length&&n.trendingNovels.some((function(e){return e.seriesId===t.seriesId}))||n.newNovels.push(t)}else e&&e.bookmark&&(n.last_newNovel=e.bookmark)},fetchContent:function(){var e=Object(d.a)(l.a.mark((function e(t,r){var o,c,s,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"comics"===t?(c=[].concat(Object(u.a)(n.trendingComics),Object(u.a)(n.newComics)),o=c.length):"novels"===t&&(s=[].concat(Object(u.a)(n.trendingNovels),Object(u.a)(n.newNovels)),o=s.length),a={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({type:t,limit:r,skip:o})},e.next=5,fetch("".concat(x,"/fetchContent"),a).then((function(e){return e.json()}));case 5:i=e.sent,Object(f.g)((function(){"comics"===t?(n.newComics=[].concat(Object(u.a)(n.newComics),Object(u.a)(i.new)),n.trendingComics=[].concat(Object(u.a)(n.trendingComics),Object(u.a)(i.trendy))):"novels"===t&&(n.newNovels=[].concat(Object(u.a)(n.newNovels),Object(u.a)(i.new)),n.trendingNovels=[].concat(Object(u.a)(n.trendingNovels),Object(u.a)(i.trendy)))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),initHSLogin:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/getLoginURL")).then((function(e){return e.text()}));case 2:t=e.sent,Object(f.g)((function(){n.loginLink=t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(e){var t={username:e};m.login(t,(function(t,r){r?(console.log(r),n.toggleLogin(!1),n.getUserDetail(r,e)):t&&console.log(t)}))},getUserDetail:function(){var e=Object(d.a)(l.a.mark((function e(t,r){var o,c,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.userDetail={},t&&r?(o=t,c=r):(o=new URLSearchParams(document.location.search).get("access_token"),c=new URLSearchParams(document.location.search).get("username")),!o){e.next=9;break}return n.toggleNavMenu(!1),s={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({access_token:o})},e.next=7,fetch("".concat(x,"/getUser"),s).then((function(e){return e.json()}));case 7:a=e.sent,Object(f.g)((function(){n.userDetail=a,o&&localStorage.setItem("access-token",p(o)),c&&localStorage.setItem("users",p(c))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logOut:function(){return fetch("".concat(x,"/logout")).then((function(e){e&&200===e.status&&(n.userDetail={},document.location.href="/"),localStorage.setItem("access-token",""),localStorage.setItem("users",""),n.userDetail={}})).catch((function(e){e&&console.log(e)})),!1},follow:function(e,t){Object(f.g)((function(){n.followState="pending"}));new Headers({"content-type":"application/json"}),p({follower:e,following:t});n.followState="done"},unfollow:function(e,t){n.followState="pending";new Headers({"content-type":"application/json"}),p({unfollower:e,unfollowing:t});n.followState="done",n.seriesInfo.followers=n.seriesInfo.followers.filter((function(t){return t!==e}))},vote:function(e,t,r,o,c){return new Promise(function(){var c=Object(d.a)(l.a.mark((function c(s){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n.voteState="pending",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({voter:e,author:t,permlink:r,weight:o})},setTimeout((function(){n.voteState="done",s("done")}),3e3);case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())},comment:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.commentState="pending",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:p(t)},e.abrupt("return",{status:"success"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProfile:function(e,t){n.updateProfileState="pending";var r={account:e,json_metadata:"",posting_json_metadata:t,extensions:[]},o={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({params:r})};fetch("".concat(x,"/updateProfile"),o).then((function(e){e&&200===e.status&&(n.updateProfileState="done")})).catch((function(e){n.updateProfileState="error",console.log(e)}))},getUserInfo:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({username:t})},e.next=3,fetch("".concat(x,"/getUserInfo"),r).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:if(!((o=e.sent)&&o.length>0)){e.next=9;break}return n.userDetail=Object(a.a)(Object(a.a)({},n.userDetail),o[0]),e.abrupt("return",o);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchPermlinks:function(){var e=Object(d.a)(l.a.mark((function e(t,r){var o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.seriesInfo={},n.seriesInfo.author=t,n.seriesInfo.series_title=r,n.seriesDetail=[],n.seriesLength=1,n.seriesLinkState="pending",e.prev=6,o={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t,title:r})},e.next=10,fetch("".concat(x,"/fetchPermlinks"),o).then((function(e){return e.json()})).catch((function(e){n.updateProfileState="error",console.log(e)}));case 10:return c=e.sent,Object(f.g)((function(){n.seriesLinks=c,n.seriesLinkState="done",n.seriesDetail.length=n.seriesLinks.length,n.activeInfoTab=n.seriesLinks.map((function(e){return!1})),n.activeComments=n.seriesLinks.map((function(e){return!1}))})),e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(6),n.seriesLinkState="error",console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,n){return e.apply(this,arguments)}}(),fetchSeriesDetail:function(){var e=Object(d.a)(l.a.mark((function e(t,r,o){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.seriesDetailState="pending",n.all_followers=[],e.prev=2,c={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t,permlink:r})},e.next=6,fetch("".concat(x,"/fetchSeriesDetail"),c).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 6:return s=e.sent,Object(f.g)(Object(d.a)(l.a.mark((function e(){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.seriesDetail&&n.seriesDetail.length>o&&(n.seriesDetail[o]=s,n.seriesDetail[o].replies=void 0),e.next=3,n.fetchComments(s.author,s.permlink);case 3:if(r=e.sent,!(n.seriesDetail&&n.seriesDetail.length>0&&n.seriesDetail[o])){e.next=20;break}if(n.seriesDetail[o].replies=r,n.seriesDetailState="done",!n.seriesInfo){e.next=19;break}return e.next=10,n.fetchAvatar(t);case 10:return c=e.sent,e.next=13,n.getFollowers(t);case 13:a=e.sent,n.seriesInfo.followers=a,n.seriesInfo.author_image=c,n.all_followers=[],e.next=20;break;case 19:void 0===n.seriesInfo&&console.log("error - fetching followers failed");case 20:n.seriesDetail&&n.seriesDetail.length>0&&o>1&&void 0===n.seriesDetail[0]&&n.fetchSeriesDetail(t,n.seriesLinks[0],0);case 21:case"end":return e.stop()}}),e)})))),e.abrupt("return",n.seriesDetail[o]);case 11:e.prev=11,e.t0=e.catch(2),n.seriesDetailState="error",console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fetchComments:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t,permlink:n})},e.next=3,fetch("".concat(x,"/fetchComments"),r).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fetchAuthorSeries:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t})},e.next=3,fetch("".concat(x,"/fetchAuthorSeries"),r).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:o=e.sent,n.authorInfo.series=[].concat(Object(u.a)(n.authorInfo.series),Object(u.a)(o)),n.authorInfo.series=Object(u.a)(new Set(n.authorInfo.series));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchSeriesInfo:function(e){return Object(d.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({seriesId:e})},t.next=3,fetch("".concat(x,"/fetchSeries"),n).then((function(e){return e.json()}));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},fetchAuthorInfo:function(e){return Object(d.a)(l.a.mark((function t(){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.authorInfo=[],n.authorInfo.series=[],n.all_followers=[],n.all_following=[],n.authorInfoState="pending",t.prev=5,r={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:e})},t.next=9,fetch("".concat(x,"/fetchAuthorInfo"),r).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 9:(o=t.sent)&&o.length>0&&(n.authorInfo=o[0]),Object(f.g)(Object(d.a)(l.a.mark((function t(){var r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getFollowCount(e);case 2:return r=t.sent,n.authorInfo&&(n.authorInfo.follow=r,n.authorInfoState="done",n.authorInfo.series=[],n.fetchAuthorSeries(e)),t.next=6,n.getFollowers(e);case 6:return o=t.sent,t.next=9,n.getFollowing(e);case 9:c=t.sent,n.authorInfo&&(n.authorInfo.followers=o,n.authorInfo.following=c),n.all_following=[],n.all_followers=[];case 13:case"end":return t.stop()}}),t)})))),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),n.authorInfoState="error",console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,14]])})))()},getFollowCount:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t})},e.next=3,fetch("".concat(x,"/fetchFollowCount"),n).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchAvatar:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t})},e.next=3,fetch("".concat(x,"/fetchAvatar"),n).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFollowers:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.followState="pending",r={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t})},e.next=4,fetch("".concat(x,"/fetchFollowers"),r).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 4:if(!(o=e.sent)){e.next=10;break}return n.followState="done",e.abrupt("return",o);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFollowing:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:new Headers({"content-type":"application/json"}),body:p({author:t})},e.next=3,fetch("".concat(x,"/fetchFollowing"),n).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}));return Object(b.jsx)(g.Provider,{value:n,children:t})}var w=g,O=n(209),k=(n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(800),n(801),n(185),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(817),n(818),n(819),n(252),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(847),n(848),n(850),n(851),n(852),n(853),n(854),n(855),n(856),n(857),n(858),n(859),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(868),n(869),n(871),n(872),n(874),n(875),n(876),n(878),n(879),n(880),n(881),n(882),n(883),n(884),n(885),n(886),n(887),n(888),n(369),n(889),n(890),n(371),n(891),n(892),n(893),n(894),n(372),n(895),n(896),n(897),n(898),n(899),n(900),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(909),n(910),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(918),n(919),n(920),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(931),n(932),n(933),n(934),n(935),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956),n(260),n(957),n(958),n(960),n(961),n(962),n(963),n(964),n(966),n(967),n(968),n(969),n(970),n(971),n(972),n(973),n(975),n(976),n(977),n(978),n(979),n(980),n(981),n(982),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(991),n(992),n(993),n(994),n(995),n(996),n(997),n(998),n(999),n(1001),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1010),n(1011),n(1012),n(1013),n(1014),n(1015),n(1016),n(1017),n(1018),n(1019),n(1020),n(1021),n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1035),n(1037),n(1038),n(1039),n(1040),n(1041),n(1042),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1053),n(386),n(116)),y=n(36),N=n(20),C=function(e){var t=(new Date).toISOString().substring(0,10),n=(new Date).toISOString().substring(11,19),r=e.substring(0,10),o=e.substring(11,19);if(t>=r){var c=t.split("-"),s=r.split("-"),a=c.map((function(e){return parseInt(e)})),i=s.map((function(e){return parseInt(e)})),l=[a[0]-i[0],a[1]-i[1],a[2]-i[2]];if(l[0]>0||l[1]>0||l[2]>7)return!1;if(7===l[2])return!(n>o);if(0===l[0]&&0===l[1]&&l[2]<7)return!0}},S=function(e){var t=(new Date).toISOString().substring(0,10),n=e;if(t>=n){var r=t.split("-"),o=n.split("-"),c=r.map((function(e){return parseInt(e)})),s=o.map((function(e){return parseInt(e)})),a=[c[0]-s[0],c[1]-s[1],c[2]-s[2]];if(a[0]>0)return"".concat(a[0],1===a[0]?" year ago":" years ago");if(a[1]>0)return"".concat(a[1],1===a[1]?" month ago":" months ago");if(a[2]>0)return"".concat(a[2],1===a[2]?" day ago":" days ago")}},I=0,L=function(e){var t=e.episode,n=e.page,o=e.images,c=e.config;Object(r.useEffect)((function(){I=n}));var s=Object(h.a)((function(e){var r=e.data;return r&&r.length>0?Object(b.jsx)(b.Fragment,{children:r.map((function(e,o){return 0===n&&0===t&&"vertical"!==c.mode?Object(b.jsx)("img",{className:"absolute h-screen w-auto ".concat(n===o?"opacity-100":"opacity-0"," transition-opacity duration-700 ease-in-out"),src:e,alt:"page"},e):"spread"===c.mode?Object(b.jsxs)("div",{className:"absolute w-screen h-screen top-0 flex flex-row justify-center items-center",children:[Object(b.jsx)("img",{className:"max-w-1/2 w-auto max-h-full h-auto transition-opacity mx-2 ".concat(n===o?"opacity-100":"opacity-0"," ").concat(I>n?"duration-75":"duration-700"," ease-in-out"),src:e,alt:"page"}),r[o+1]?Object(b.jsx)("img",{className:"max-w-1/2 w-auto max-h-full h-auto transition-opacity mx-2 ".concat(n+1===o+1?"opacity-100":"opacity-0"," ").concat(I<n?"duration-75":"duration-700"," ease-in-out"),src:r[o+1],alt:"page"}):Object(b.jsx)(b.Fragment,{})]},e):"vertical"===c.mode?Object(b.jsx)("img",{className:"max-w-full max-h-full h-auto opacity-100 mb-12",src:e,alt:"page"},e):Object(b.jsx)("img",{className:"absolute max-h-full h-auto w-auto ".concat(n===o?"opacity-100":"opacity-0"," transition-opacity duration-700 ease-in-out"),src:e,alt:"page"},e)}))}):Object(b.jsx)(b.Fragment,{})}));return Object(b.jsx)(s,{data:o})},M=n(284),_=n.n(M),z=function(e){var t=e.config,n=e.episode,o=e.page,c=e.series,s=e.toggleRender,a=e.setPage,i=e.setEpisode,l=Object(r.useRef)(null),u=!1;Object(r.useEffect)((function(){d()}),[n,o,t.mode]);var d=function(){var e=l.current;e&&e.scrollIntoView()},f=_()((function(e){var t=e.inViewport,r=e.forwardedRef,c=e.index,s=e.pageIndex,d=e.url;return t&&u&&(i(c),a(s),u=!1),Object(b.jsx)("div",{ref:n===c&&o===s?l:null,children:Object(b.jsx)("img",{ref:r,className:"".concat(c>n+1?"hidden":"block"," max-w-full max-h-full h-auto mb-12"),src:d,alt:"page"},d)})})),j=_()((function(e){var r=e.inViewport,o=e.forwardedRef,c=e.index;return r&&i(c),Object(b.jsxs)("h2",{ref:o,className:"".concat(c<n-1||c>n+1?"hidden":"block"," ").concat("white"===t.background?"text-black":"text-white"," mb-12"),children:["End of episode ",c+1]})})),p=Object(h.a)((function(e){if(e.toggleRender&&c&&c.length>0){for(var r=[],o=function(e){var o,s,a=null===(o=c[e])||void 0===o?void 0:o.image,i=null===(s=c[e])||void 0===s?void 0:s.permlink;c[e]&&r.push(Object(b.jsxs)("div",{className:"flex flex-col items-center",children:[Object(b.jsxs)("h2",{className:"".concat(e>n+1?"opacity-0":"opacity-100"," ").concat("white"===t.background?"text-black":"text-white"," mb-12"),children:["Start of episode ",e+1]}),a?a.map((function(t,n){return Object(b.jsx)(f,{url:t,index:e,pageIndex:n,onLeaveViewport:function(){u=!0}},t)})):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)(j,{index:e})]},i))},s=0;s<c.length;s++)o(s);return r&&r.length>0?Object(b.jsx)(b.Fragment,{children:r}):Object(b.jsx)(b.Fragment,{})}return Object(b.jsx)(b.Fragment,{})}));return Object(b.jsx)(p,{toggleRender:s})},A=function(e){var t=e.props,n=e.showMenu,c=e.hideArchive,s=t.actions,a=t.go,i=t.series,l=t.episode,u=t.toggleRender,d=Object(r.useState)(l+1),f=Object(N.a)(d,2),j=f[0],p=f[1],m=Object(r.useState)(0),x=Object(N.a)(m,2),g=x[0],v=x[1],w=o.a.useRef(null),O=o.a.useRef(null),k=o.a.useRef(null);Object(r.useEffect)((function(){s.fetchAll(),setTimeout((function(){w&&w.current&&O&&O.current&&I(w,!1)}))}),[]),Object(r.useEffect)((function(){null!==k.current&&clearTimeout(k.current),k.current=setTimeout((function(){n||(k.current=null,c())}),1200)}),[n]);var y=Object(h.a)((function(e){var t=e.toggleRender,n=e.archiveIndex;if(t&&i&&i.length>0){for(var r=[],o=function(e){if(i[e]&&i[e].image&&i[e].image.length>0)for(var t=function(t){var o=r.length;r.push(Object(b.jsxs)("div",{ref:o===n?w:null,className:"flex flex-col h-full w-3/12 mx-1 justify-between items-center cursor-pointer bg-cover",onClick:function(){return S.set(e,t,o)},children:[Object(b.jsx)("div",{className:"h-full w-auto flex justify-center items-center overflow-hidden mt-0.5",children:Object(b.jsx)("img",{className:"w-full h-auto",src:i[e].image[t]})}),Object(b.jsxs)("p",{className:"text-xs p-1 m-1 ".concat(o===n?"bg-purple-600 rounded text-white":""),children:["E",e+1,"P",t+1]})]},i[e].permlink+t))},o=0;o<i[e].image.length;o++)t(o);else r.push(Object(b.jsx)("div",{className:"flex flex-col h-full w-3/12 items-center",children:Object(b.jsx)("div",{className:"w-3/12 h-full bg-white"})},e))},c=0;c<i.length;c++)o(c);return r&&r.length>0?(v(r.length),Object(b.jsx)(b.Fragment,{children:r})):Object(b.jsx)(b.Fragment,{})}return Object(b.jsx)(b.Fragment,{})})),C=0,S={next:function(){0!==C&&C===O.current.scrollLeft||(O.current.scrollTo({top:0,left:O.current.scrollLeft+1e3,behavior:"smooth"}),C=O.current.scrollLeft)},previous:function(){O.current.scrollLeft>0&&(O.current.scrollTo({top:0,left:O.current.scrollLeft-1e3,behavior:"smooth"}),C=O.current.scrollLeft)},first:function(){S.set(0,0,0)},last:function(){var e,t,n,r,o=i.length-1,c=(null===(e=i[o])||void 0===e||null===(t=e.image)||void 0===t?void 0:t.length)?(null===(n=i[o])||void 0===n||null===(r=n.image)||void 0===r?void 0:r.length)-1:0,s=g-1;S.set(o,c,s)},set:function(e,t,n){a.to(e,t),p(n),setTimeout((function(){I(w,!0)}))}},I=function(e,t){O.current.scrollTo({top:0,left:e.current.offsetLeft-window.innerWidth/2,behavior:t?"smooth":"auto"})};return Object(b.jsxs)("div",{className:"w-full h-full relative flex flex-row bg-purple-600 justify-between items-center p-0 lg:p-3 lg:px-10",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 text-white absolute top-2 right-2 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:c,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-14 text-white ml-1 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:S.first,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),g>26?Object(b.jsx)("svg",{className:"w-14 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",onClick:S.previous,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{ref:O,className:"bg-white w-full h-full z-30 flex flex-row overflow-hidden mx-2",children:Object(b.jsx)(y,{toggleRender:u,archiveIndex:j})}),g>26?Object(b.jsx)("svg",{className:"w-14 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",onClick:S.next,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-14 mr-1 text-white cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:S.last,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})]})},D=Object(h.a)((function(e){var t=e.followers,n=e.username;return Object(r.useContext)(w).seriesInfo.author===n?Object(b.jsx)("button",{className:"font-semibold border-2 border-gray-500 rounded p-2 m-2 uppercase text-gray-500 bg-transparent cursor-not-allowed",children:Object(b.jsx)("span",{className:"flex flex-row justify-center items-center",children:Object(b.jsx)("p",{children:"Edit content"})})}):t?t.includes(n)?Object(b.jsx)("button",{className:"hover:bg-gray-500 font-semibold hover:text-white border-2 border-gray-500 hover:border-transparent rounded p-2 m-2 uppercase text-white bg-gray-500",onClick:function(){},children:Object(b.jsxs)("span",{className:"flex flex-row justify-center items-center cursor-pointer hover:text-white",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 z-10 stroke-current text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Object(b.jsx)("p",{children:"Subscribed"})]})}):Object(b.jsx)("button",{className:"hover:bg-gray-500 font-semibold hover:text-white border-2 border-gray-500 hover:border-transparent rounded p-2 m-2 uppercase text-gray-500 bg-transparent",onClick:function(){},children:Object(b.jsxs)("span",{className:"flex flex-row justify-center items-center cursor-pointer hover:text-white",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 z-10 stroke-current text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Object(b.jsx)("p",{children:"Subscribe"})]})}):Object(b.jsx)("button",{className:"hover:bg-gray-500 font-semibold hover:text-white border-2 border-gray-500 hover:border-transparent rounded p-2 m-2 uppercase text-gray-500 bg-transparent",children:Object(b.jsxs)("span",{className:"flex flex-row justify-center items-center cursor-pointer hover:text-white",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 z-10 stroke-current text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Object(b.jsx)("p",{children:"Loading"})]})})})),T=function(e){var t=e.seriesInfo,n=e.toggleComments,o=e.toggleSharing,c=Object(r.useContext)(w);return Object(b.jsxs)("div",{className:"flex flex-row flex-1 justify-around items-center text-gray-500 z-10 uppercase",children:[Object(b.jsxs)("span",{className:"flex flex-col justify-center items-center m-2 cursor-pointer hover:text-white group",onClick:n,children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 z-10 stroke-current text-gray-400 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),Object(b.jsx)("p",{className:"group-hover:text-white",children:"Comment"})]}),Object(b.jsxs)("span",{className:" relative flex flex-col justify-center items-center m-2 cursor-pointer hover:text-white group",onClick:o,children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 z-10 stroke-current text-gray-400 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),Object(b.jsx)("p",{className:"group-hover:text-white",children:"Share"})]}),Object(b.jsx)(D,{followers:t.followers,username:Object(f.h)(c.userDetail)?c.userDetail.name:""})]})},P=function(e){var t=e.props,n=e.showArchive,r=t.actions,o=t.config;return Object(b.jsxs)("div",{className:"flex flex-row flex-1 justify-around items-center text-gray-500 uppercase",children:[Object(b.jsxs)("span",{className:"flex-col justify-center items-center m-2 cursor-pointer hidden sm:flex group z-10",onClick:r.toggleBgColor,children:[Object(b.jsx)("svg",{className:"w-10 z-10 stroke-current text-gray-400 group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),Object(b.jsx)("p",{className:"group-hover:text-white",children:"Color"})]}),Object(b.jsx)("div",{className:"vertical-divider hidden sm:block"}),Object(b.jsxs)("span",{className:"flex flex-col justify-center items-center m-2 cursor-pointer group z-10",onClick:function(){return r.toggleMode("page")},children:[Object(b.jsx)("svg",{className:"group-hover:text-white w-10 z-10 stroke-current ".concat("page"===o.mode?"text-white":"text-gray-400"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),Object(b.jsx)("p",{className:"group-hover:text-white ".concat("page"===o.mode?"text-white":"text-gray-400"),children:"Page"})]}),Object(b.jsxs)("span",{className:"flex flex-col justify-center items-center m-2 cursor-pointer group z-10",onClick:function(){return r.toggleMode("spread")},children:[Object(b.jsx)("svg",{className:"group-hover:text-white w-10 z-10 stroke-current ".concat("spread"===o.mode?"text-white":"text-gray-400"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Object(b.jsx)("p",{className:"group-hover:text-white ".concat("spread"===o.mode?"text-white":"text-gray-400"),children:"Spread"})]}),Object(b.jsxs)("span",{className:"flex flex-col justify-center items-center m-2 cursor-pointer group z-10",onClick:function(){return r.toggleMode("vertical")},children:[Object(b.jsx)("svg",{className:"group-hover:text-white w-10 z-10 stroke-current ".concat("vertical"===o.mode?"text-white":"text-gray-400"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),Object(b.jsx)("p",{className:"group-hover:text-white ".concat("vertical"===o.mode?"text-white":"text-gray-400"),children:"Vertical"})]}),Object(b.jsx)("div",{className:"vertical-divider hidden sm:block"}),Object(b.jsxs)("span",{className:"flex flex-col justify-center items-center m-2 cursor-pointer group z-10",onClick:n,children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"group-hover:text-white w-10 z-10 stroke-current text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),Object(b.jsx)("p",{className:"group-hover:text-white",children:"Archives"})]})]})},F=n(1420),B=n(1421),H=n(1422),E=n(1423),V=n(1424),R=n(1425),W=n(1426),q=n(1427),U=n(1428),J=n(1429),$=n(1430),Z=n(1431),K=n(1432),Q=n(1433),X=n(1434),G=n(1435),Y=function(e){var t=e.image,n=e.toggleSharing;return Object(b.jsxs)("div",{className:"absolute bottom-0 h-60 md:h-52 lg:h-44 xl:h-32 flex flex-wrap w-full justify-end pr-28 space-x-2 z-20 bg-white",children:[Object(b.jsx)(F.a,{url:window.location.href,subject:"Check this out.",body:"Here is a great story I found on Inkito.io",children:Object(b.jsx)(B.a,{size:44,round:!0})}),Object(b.jsx)(H.a,{url:window.location.href,quote:"Check this out.",hashtag:"#inkito",children:Object(b.jsx)(E.a,{size:44,round:!0})}),Object(b.jsx)(V.a,{url:window.location.href,title:"Check this out.",hashtags:["inkito"],via:"inkito_io",children:Object(b.jsx)(R.a,{size:44,round:!0})}),Object(b.jsx)(W.a,{url:window.location.href,title:"Check this out.",tags:["inkito"],caption:"Here is a great story I found on Inkito.io",children:Object(b.jsx)(q.a,{size:44,round:!0})}),Object(b.jsx)(U.a,{url:window.location.href,media:t,description:"Here is a great story I found on Inkito.io",children:Object(b.jsx)(J.a,{size:44,round:!0})}),Object(b.jsx)($.a,{url:window.location.href,title:"Check this out.",children:Object(b.jsx)(Z.a,{size:44,round:!0})}),Object(b.jsx)(K.a,{url:window.location.href,title:"Check this out.",children:Object(b.jsx)(Q.a,{size:44,round:!0})}),Object(b.jsx)(X.a,{url:window.location.href,title:"Check this out.",children:Object(b.jsx)(G.a,{size:44,round:!0})}),Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 text-black absolute top-4 right-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:n,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})]})},ee=function(e){var t=e.props,n=t.actions,o=t.current,c=t.seriesInfo,s=t.userData,a=Object(r.useState)(!1),i=Object(N.a)(a,2),l=i[0],u=i[1],d=Object(r.useContext)(w);Object(r.useEffect)((function(){return Object(f.b)((function(){"pending"===d.voteState?u(!0):u(!1)}))}),[d.voteState]);var h=function(e){for(var t=e.number,n=e.voted,r=[],o=0;o<t;o++)o<n?r.push(Object(b.jsx)("div",{className:"border border-gray-500 bg-purple-500 border-1 w-1.5 h-1.5 m-0.5"},o)):r.push(Object(b.jsx)("div",{className:"border border-gray-500 border-1 w-1.5 h-1.5 m-0.5"},o));return Object(b.jsx)(b.Fragment,{children:r})};return Object(b.jsx)("div",{className:"flex flex-col flex-auto text-gray-500 z-10 uppercase order-first w-screen lg:order-none lg:flex-1 lg:w-auto justify-around items-center m-2 z-10 cursor-default",children:Object(b.jsxs)("div",{className:"flex flex-row w-full justify-around items-center",children:[Object(b.jsx)("div",{className:"flex-1 flex-col",children:Object(b.jsx)("p",{className:"text-center text-sm cursor-default",children:o&&o.active_votes&&o.active_votes.length>=0?1===o.active_votes.length?"".concat(o.active_votes.length," vote"):"".concat(o.active_votes.length," votes"):"loading..."})}),Object(b.jsx)("div",{className:"vertical-divider"}),c.ranked&&c.ranked.length>0?Object(b.jsxs)("div",{className:"flex flex-wrap w-5 justify-center",children:[Object(b.jsx)(h,{number:c.ranked.length,voted:c.voted}),Object(b.jsx)("p",{className:"text-xs",children:"".concat(c.voted,"/").concat(c.ranked.length)})]}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{className:"flex flex-initial flex-row flex-row justify-center items-center",children:c.ranked&&0===c.ranked.length?Object(b.jsx)("button",{className:"flex-1 z-20 text-gray-400 my-2 mx-2 py-1 px-6 rounded bg-gray-600 focus:outline-none cursor-default",children:Object(b.jsx)("p",{children:"VOTE"})}):Object(b.jsx)(b.Fragment,{children:l?Object(b.jsx)("button",{className:"w-24 h-10 flex-1 flex flex-row justify-center items-center z-20 text-gray-300 my-2 mx-2 rounded bg-purple-700 focus:outline-none cursor-default",children:Object(b.jsx)("div",{className:"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-6 w-6"})}):Object(b.jsx)("button",{className:"w-24 h-10 flex-1 z-20 text-gray-300 my-2 mx-2 rounded \n                                            bg-purple-600 focus:outline-none hover:bg-purple-700 hover:shadow-lg",onClick:n.vote,children:Object(b.jsx)("p",{children:"VOTE"})})})}),Object(b.jsx)("div",{className:"vertical-divider"}),Object(b.jsxs)("div",{className:"flex flex-row flex-1 justify-center items-center text-sm text-center",children:[Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("p",{className:"cursor-default",children:"Voting"}),Object(b.jsx)("p",{className:"cursor-default",children:"power:"})]}),Object(b.jsxs)("div",{className:"flex flex-col items-center p-2 mx-2",children:[Object(b.jsx)("div",{className:"h-0.5 w-3 bg-white"}),Object(b.jsxs)("div",{className:"h-6 w-4 border boder-2 boder-white rounded flex flex-col-reverse relative",children:[Math.round(s.voting_power/100)<25?Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-3.5 text-white absolute top-0.5 left-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{className:"bg-purple-500",style:{height:"".concat(Math.round(s.voting_power/100),"%")}})]}),Object(b.jsxs)("p",{className:"text-xs",children:[Math.round(s.voting_power/100),"%"]})]})]})]})})},te=function(e){var t=e.props,n=e.showMenu,o=e.setShowMenu,c=e.toggleComments,s=t.seriesInfo,a=Object(r.useState)(!1),i=Object(N.a)(a,2),l=i[0],u=i[1],d=Object(r.useState)(!1),h=Object(N.a)(d,2),f=h[0],j=h[1],p=Object(r.useRef)(null);Object(r.useEffect)((function(){null!==p.current&&clearTimeout(p.current),p.current=setTimeout((function(){n||(p.current=null,j(!1))}),1200)}),[n]);var m=function(){j(!f)};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"absolute w-full bottom-0 z-20 select-none h-60 md:h-52 lg:h-44 xl:h-32 transition duration-500 ease-in-out text-gray-500 uppercase\n            ".concat(n?"opacity-100":"opacity-0 delay-1000"),onMouseOver:function(){return o(!0)},onMouseLeave:function(){o(!1)},children:[f?Object(b.jsx)(Y,{image:"https://steemitimages.com/DQmS1EUee1rJFL2EHr3yJVKChJBtkccf2dGDJsAAAn1qBE2/jrej_00.png",toggleSharing:m}):Object(b.jsx)(b.Fragment,{}),l?Object(b.jsx)(A,{props:t,showMenu:n,hideArchive:function(){return u(!1)}}):Object(b.jsxs)("div",{className:"w-full h-full flex flex-row flex-wrap justify-around items-center p-0 lg:p-3",children:[Object(b.jsx)(P,{props:t,showArchive:function(){return u(!0)}}),Object(b.jsx)("div",{className:"vertical-divider hidden lg:block"}),Object(b.jsx)(ee,{props:t}),Object(b.jsx)("div",{className:"vertical-divider hidden lg:block"}),Object(b.jsx)(T,{seriesInfo:s,toggleComments:c,toggleSharing:m}),Object(b.jsx)("div",{className:"absolute w-full h-full bg-black opacity-80"})]})]})})},ne=n(477),re=n.n(ne),oe=function(e){var t=e.commentBody,n=e.cancelAction,o=e.updateCb,c=e.parent,s=Object(r.useState)(""),a=Object(N.a)(s,2),i=a[0],u=a[1],h=Object(r.useState)(!1),f=Object(N.a)(h,2),m=f[0],x=f[1],g=Object(r.useContext)(w),v=function(){var e=Object(d.a)(l.a.mark((function e(r){var s,a,i,u,d,h,f,b,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return s=g.userDetail.name,a=r,i=c.author,u=c.permlink,d=j(c.json_metadata).tags,h=p({tags:d,app:"Inkito"}),f="re-"+c.permlink+"-"+Date.now(),"",b={parentAuthor:i,parentPermlink:u,author:s,permlink:f,title:"",body:a,jsonMetadata:h},x(!0),e.next=13,g.comment(b);case 13:(m=e.sent)&&(x(!1),"success"===m.status?(n(),b.json_metadata=b.jsonMetadata,b.pending_payout_value="0.000 HBD",b.total_payout_value="0.000 HBD",b.created=(new Date).toISOString(),b.active_votes=[],b.replies=[],o(b,!!t)):console.log("Something went wrong."));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"w-full h-auto mt-6",children:[Object(b.jsx)("div",{className:"border border-2 border-indigo-300 px-7 py-2",children:Object(b.jsx)(re.a,{defaultValue:t,placeholder:"Write something nice...",onChange:function(e){u(e())}})}),Object(b.jsxs)("div",{className:"flex flex-row justify-end my-4",children:[Object(b.jsx)("button",{className:"bg-transparent hover:bg-indigo-400 text-indigo-500 font-semibold \r hover:text-white px-2 border border-indigo-400 hover:border-transparent rounded mr-4",onClick:n,children:"Cancel"}),m?Object(b.jsx)("p",{className:"text-purple-600",children:"Sending..."}):Object(b.jsx)("button",{className:"                  \n                    text-white px-4 rounded bg-indigo-500 border border-indigo-500 \n                    ".concat(i?"hover:bg-indigo-500 hover:shadow-lg focus:outline-none":"opacity-50 cursor-not-allowed"),onClick:function(){return v(i)},children:"Send"})]})]})},ce=n(211),se=n(212),ae=function(e){var t=e.comment,n=("0.000 HBD"===t.pending_payout_value?t.total_payout_value:t.pending_payout_value).replace("HBD",""),o=Object(r.useContext)(w),c=Object(r.useState)(""),s=Object(N.a)(c,2),a=s[0],i=s[1],u=Object(r.useState)(!1),f=Object(N.a)(u,2),j=f[0],p=f[1],m=Object(r.useState)(""),x=Object(N.a)(m,2),g=x[0],v=x[1],O=new se.a({html:!0}).use(ce.imgify),y=function(e){i(a===e?"":e)},C=function(){p(!j)},I=function(e,n){n?t&&t.body&&(t.body=e.body):t&&t.replies&&t.replies.push(e)},L=function(){var e=Object(d.a)(l.a.mark((function e(n,r){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(r),1e4,c=o.userDetail.name,e.next=5,o.vote(c,n,r,1e4,void 0);case 5:"done"===e.sent&&(t&&t.active_votes&&(s={voter:c},t.active_votes.push(s)),v(""));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=Object(h.a)((function(e){var t=e.comment;return Object(b.jsx)("div",{className:"border border-4 p-4 my-2",children:Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:O.render(t.body)}})})}));return Object(b.jsxs)("li",{className:"w-full flex flex-row",children:[Object(b.jsx)(k.b,{to:"/@".concat(t.author),children:Object(b.jsx)("img",{className:"h-16 rounded-full mt-9 mr-4",src:"https://images.hive.blog/u/".concat(t.author,"/avatar")||!1,alt:"".concat(t.author,"-avatar")})}),Object(b.jsxs)("div",{className:"flex flex-1 flex-col mx-2 my-6",children:[Object(b.jsxs)("div",{className:"flex flex-row justify-start mx-2",children:[Object(b.jsx)("p",{className:"capitalize mr-4",children:Object(b.jsx)(k.b,{to:"/@".concat(t.author),children:t.author})}),Object(b.jsx)("p",{className:"mr-4",children:S(t.created.slice(0,10))}),t.author!==o.userDetail.name||j?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("button",{className:"bg-transparent hover:bg-gray-400 text-gray-500 font-semibold \r hover:text-white px-2 border border-gray-300 hover:border-transparent rounded",onClick:C,children:"Edit"})]}),j?Object(b.jsx)(oe,{commentBody:t.body,cancelAction:C,parent:t,updateCb:I}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(M,{comment:t}),Object(b.jsxs)("div",{className:"flex flex-row justify-between mx-2 my-1",children:[Object(b.jsxs)("div",{className:"flex flex-row justify-start",children:[Object(b.jsx)("div",{className:"flex justify-center w-12 mr-4",children:t.active_votes&&t.active_votes.some((function(e){return e.voter===o.userDetail.name}))?Object(b.jsx)("button",{className:"text-white px-2 rounded bg-purple-600 border border-purple-600 \r focus:outline-none hover:bg-purple-700 hover:shadow-lg",children:"Voted"}):""===g?Object(b.jsx)("button",{className:"bg-transparent hover:bg-purple-600 text-purple-700 font-semibold \r hover:text-white px-2 border border-purple-500 hover:border-transparent rounded",onClick:function(){L(t.author,t.permlink)},children:"Vote"}):Object(b.jsx)("div",{className:"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-6 w-6"})}),Object(b.jsx)("div",{className:"mr-4",children:Object(b.jsxs)("p",{children:[n," HBD"]})}),Object(b.jsx)("div",{className:"vote-block flex reset mr-4",children:Object(b.jsxs)("p",{children:[t.active_votes.length," votes"]})})]}),a!==t.permlink?Object(b.jsx)("button",{className:"bg-transparent hover:bg-indigo-500 text-indigo-600 font-semibold \r hover:text-white px-2 border border-indigo-500 hover:border-transparent rounded",onClick:function(){return y(t.permlink)},children:"Reply"}):Object(b.jsx)(b.Fragment,{})]})]}),a===t.permlink?Object(b.jsx)(oe,{commentBody:"",cancelAction:function(){return y(t.permlink)},parent:t,updateCb:I}):Object(b.jsx)(b.Fragment,{}),t.replies?Object(b.jsx)(ie,{replies:t.replies}):Object(b.jsx)(b.Fragment,{})]})]})},ie=function(e){var t=e.replies,n=Object(h.a)((function(e){var t=e.replies,n=[];return t&&t.length>0&&t.forEach((function(e){n.push(Object(b.jsx)(ae,{comment:e},e.permlink))})),Object(b.jsx)("ul",{className:"w-full flex flex-col items-end",children:n})}));return Object(b.jsx)(n,{replies:t})},le=function(e){var t=e.current,n=Object(r.useState)(!1),o=Object(N.a)(n,2),c=o[0],s=o[1],a=Object(r.useState)(!1),i=Object(N.a)(a,2),l=i[0],u=i[1],d=Object(r.useState)(!1),h=Object(N.a)(d,2),f=h[0],j=h[1];Object(r.useEffect)((function(){t&&void 0===t.replies?u(!0):(u(!1),t.replies.length>0?j(!0):t.replies&&0===t.replies.length&&j(!1))}),[t.replies]);var p=function(){s(!c)};return t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex flex-row justify-start font-bold mt-2",children:Object(b.jsx)("h2",{children:"Comments"})}),Object(b.jsx)("div",{className:"horizontal-divider my-4"}),Object(b.jsx)("div",{className:"flex flex-row justify-end mr-10",children:c?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("button",{className:"bg-transparent hover:bg-indigo-500 text-indigo-600 font-semibold \r hover:text-white px-2 border border-indigo-500 hover:border-transparent rounded",onClick:p,children:"Reply"})}),c?Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)("div",{className:"w-11/12",children:Object(b.jsx)(oe,{commentBody:"",cancelAction:p,parent:t,updateCb:function(e,n){n?t&&t.body&&(t.body=e.body):t&&t.replies&&t.replies.push(e)}})})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{className:"flex justify-center",children:l?Object(b.jsx)("div",{className:"w-full flex justify-start",children:Object(b.jsx)("p",{children:"Loading..."})}):f?Object(b.jsx)("div",{className:"w-11/12",children:Object(b.jsx)(ie,{replies:t.replies})}):Object(b.jsx)("div",{className:"w-full flex justify-start",children:Object(b.jsx)("p",{children:"No comments..."})})})]}):Object(b.jsx)("p",{children:"Loading..."})},ue=function(e){var t=e.props,n=e.toggleComments,o=t.current,c=Object(r.useState)(""),s=Object(N.a)(c,2),a=s[0],i=s[1],l=Object(r.useState)(!1),u=Object(N.a)(l,2),d=u[0],h=u[1],f=new se.a({html:!0}).use(ce.imgify),j=a.replace(/(^--.*-$|^\*\*.*\*$|^__.*_$|<hr\/>)/m,"").replace(/<center>\[!\[inkito-banner.png\].*\n*<\/center>$/gm,"").replace(/<p>(https?:\/\/.*\.(?:png|jpg))<\/p>/g,"<img src='$1' alt='blog-page'/>").trim(),p="".concat(j.slice(0,1e3),"...");return o?(o.body!==a&&i(o.body),Object(b.jsxs)("div",{className:"blog flex flex-col absolute w-11/12 h-11/12 p-6 bg-white z-30",children:[Object(b.jsx)("div",{className:"flex justify-end",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"blog-btnClose w-8 lg:w-10 text-black text-right cursor-pointer z-40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:n,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),Object(b.jsxs)("div",{className:"blog-mainContent w-auto h-full overflow-y-auto m-3 p-3",children:[Object(b.jsxs)("div",{className:"w-11/12 flex flex-row items-center",children:[Object(b.jsx)("h2",{className:"mr-6 font-bold",children:o.title}),Object(b.jsxs)("p",{className:"mr-6",children:["published ",S(o.created.slice(0,10))]}),Object(b.jsx)("p",{className:"mr-1",children:"by"}),Object(b.jsx)("p",{className:"capitalize",children:o.author})]}),Object(b.jsx)("div",{className:"horizontal-divider my-4"}),Object(b.jsx)("div",{className:"blog-body",dangerouslySetInnerHTML:{__html:f.render(d?j:p)}}),Object(b.jsx)("div",{className:"flex justify-end mr-6",children:Object(b.jsx)("button",{className:"font-bold text-gray-600 px-2",onClick:function(){h(!d)},children:d?"Show less...":"Show more..."})}),Object(b.jsx)(le,{current:o})]})]})):Object(b.jsx)("div",{className:"blog flex absolute w-screen h-screen bg-black justify-center items-center",children:Object(b.jsx)("div",{className:"loader ease-linear rounded-full border-2 border-t-2 border-gray-400 h-14 w-14"})})},de=function(e){var t=e.go,n=e.config;return Object(b.jsxs)("div",{id:"reader-controls",className:"w-full h-full ".concat("vertical"===n.mode?"hidden":"flex"," flex-row justify-between items-center z-10"),children:[Object(b.jsx)("div",{className:"flex flex-col justify-center items-start w-1/3 h-full cursor-pointer left opacity-0 hover:opacity-100 transition duration-500 ease-in-out z-10",onClick:t.previous,children:Object(b.jsx)("svg",{className:"w-16 ml-10 md:w-32",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"".concat("white"===n.background?"black":"white"),children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Object(b.jsx)("div",{className:"w-1/3 h-full center"}),Object(b.jsx)("div",{className:"flex flex-col justify-center items-end w-1/3 h-full cursor-pointer right opacity-0 hover:opacity-100 transition duration-500 ease-in-out z-10",onClick:t.next,children:Object(b.jsx)("svg",{className:"w-16 mr-10 md:w-32",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"".concat("white"===n.background?"black":"white"),children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},he=function(e){var t=e.props,n=e.showMenu,r=e.setShowMenu,o=t.seriesInfo,c=t.episode,s=t.page,a=Object(h.a)((function(e){var t=e.followers;return t&&t.length>0?Object(b.jsx)("p",{className:"text-xs text-gray-300",children:"".concat(t.length," followers")}):Object(b.jsx)(b.Fragment,{})}));return Object(b.jsxs)("div",{className:"absolute top-0 w-screen z-10 select-none w-11/12 h-20 flex flex-row justify-center items-center transition duration-500 ease-in-out \n                ".concat(n?"opacity-100":"opacity-0 delay-1000"),onMouseOver:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(b.jsx)("div",{className:"flex-1 z-10",children:Object(b.jsx)("h1",{className:"text-white text-center uppercase",children:Object(b.jsx)(k.b,{to:"/",children:"Inkito"})})}),Object(b.jsxs)("div",{className:"w-full flex flex-1 flex-row w-auto justify-center items-center m-2 z-10 text-gray-300",children:[Object(b.jsx)("h3",{className:"uppercase whitespace-nowrap mx-4 text-white",children:o.title}),Object(b.jsx)("div",{className:"flex-row text-gray-400 mx-4 hidden md:flex",children:c+s===0?Object(b.jsx)("p",{className:"mx-1",children:"Cover"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex flex-row",children:[Object(b.jsx)("p",{className:"mx-1",children:"Episode"}),Object(b.jsx)("p",{children:c+1})]}),Object(b.jsxs)("div",{className:"flex flex-row",children:[Object(b.jsx)("p",{className:"mx-1",children:"Page"}),Object(b.jsx)("p",{children:s+1})]})]})})]}),Object(b.jsxs)("div",{className:"flex flex-1 flex-row mx-4 text-white z-10 justify-center items-center",children:[Object(b.jsx)("img",{className:"h-10 rounded-full",src:"https://images.hive.blog/u/".concat(o.author,"/avatar")}),Object(b.jsxs)("div",{className:"flex flex-col justify-center items-start mx-4",children:[Object(b.jsx)("p",{className:"uppercase",children:o.author}),Object(b.jsx)(a,{followers:o.followers})]})]}),Object(b.jsx)("div",{className:"absolute w-full h-full bg-black opacity-80"})]})},fe=function(e){var t=Object(r.useState)(!1),n=Object(N.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(!1),a=Object(N.a)(s,2),i=a[0],l=a[1],u=function(){l(!i)};return Object(b.jsxs)("div",{id:"reader-menu",className:"fixed top-0 w-full h-full flex flex-col items-center justify-center z-10",children:[Object(b.jsx)(de,{go:e.go,config:e.config}),Object(b.jsx)(he,{props:e,showMenu:o,setShowMenu:function(e){return c(e)}}),i?Object(b.jsx)(ue,{props:e,toggleComments:u}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)(te,{props:e,showMenu:o,setShowMenu:function(e){return c(e)},toggleComments:u})]})},je=function(e){e.type;var t=o.a.useContext(w),n=function(e){var t=window.location.href,n=t.indexOf(e),r=(t=t.slice(n+e.length,t.length)).split("/"),o={};return o.author=r[0],o.seriesTitle=r[1],o.currentPage=parseInt(r[2]),o}("reader/"),c=Object(r.useState)({}),s=Object(N.a)(c,2),i=s[0],u=s[1],h=Object(r.useState)([]),j=Object(N.a)(h,2),p=j[0],m=j[1],x=Object(r.useState)(0),g=Object(N.a)(x,2),v=(g[0],g[1],Object(r.useState)([])),O=Object(N.a)(v,2),k=O[0],y=O[1],S=Object(r.useState)([]),I=Object(N.a)(S,2),M=I[0],_=I[1],A=Object(r.useState)(0),D=Object(N.a)(A,2),T=D[0],P=D[1],F=Object(r.useState)({mode:"spread",sort:"rightToLeft",background:"black",transition:!0}),B=Object(N.a)(F,2),H=B[0],E=B[1],V=Object(r.useState)(0),R=Object(N.a)(V,2),W=R[0],q=R[1],U=Object(r.useState)({isSubscribed:!1,autoVoteOn:!1,disableVote:!1,voting_power:0}),J=Object(N.a)(U,2),$=J[0],Z=J[1],K=Object(r.useState)(0),Q=Object(N.a)(K,2),X=Q[0],G=Q[1];Object(r.useEffect)((function(){n.author&&n.seriesTitle&&ee(n.author,n.seriesTitle);var e=function(e,t){if(e&&t){var n=e.replace(/[^A-Za-z0-9]/g,""),r=t.replace(/[^A-Za-z0-9]/g,"");return"".concat(n,"-").concat(r).toLowerCase().slice(0,24)}return""}(n.author,n.seriesTitle);ne(e);var r=t.userDetail.name||"jrej";Y(r)}),[]);var Y=function(){var e=Object(d.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserInfo(n);case 2:(r=e.sent)&&r.length>0&&($.voting_power=0!==r[0].voting_power?r[0].voting_power:1e4);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){k&&k.length>0&&re()}),[T,k]),Object(r.useEffect)((function(){return Object(f.b)((function(){t.seriesInfo.followers&&void 0===i.followers&&u(Object(a.a)(Object(a.a)({},i),{},{followers:t.seriesInfo.followers}))}))}),[i,t.seriesInfo.followers]);var ee=function(){var e=Object(d.a)(l.a.mark((function e(r,o){var c,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchPermlinks(r,o);case 2:if(!(c=e.sent)){e.next=13;break}return y(c),re(),(s=[]).length=c.length,_(s),e.next=11,te(n.author,c);case 11:a=e.sent,m(a);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(e,t){return new Promise(function(){var n=Object(d.a)(l.a.mark((function n(r){var o,c,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=[],c=t.length-1;case 2:if(!(c>=0)){n.next=17;break}return n.next=5,ce(e,t[c],c);case 5:if(!(s=n.sent)){n.next=14;break}if(!C(s.created)){n.next=12;break}o.push(s),n.next=14;break;case 12:return r(o),n.abrupt("break",17);case 14:c--,n.next=2;break;case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},ne=function(){var e=Object(d.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchSeriesInfo(n);case 2:(r=e.sent)&&(u(r),r&&r.config&&r.config.background&&E(Object(a.a)(Object(a.a)({},H),{},{background:r.config.background})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M[T]){e.next=3;break}return e.next=3,ce(n.author,k[T],T);case 3:if(M[T+1]||!(T<k.length)){e.next=6;break}return e.next=6,ce(n.author,k[T+1],T+1);case 6:if(M[T-1]||!(T>0)){e.next=9;break}return e.next=9,ce(n.author,k[T-1],T-1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k.length>0)){e.next=17;break}t=T;case 2:if(!(t<k.length)){e.next=9;break}if(M[t]||!(T<k.length)){e.next=6;break}return e.next=6,ce(n.author,k[t],t);case 6:t++,e.next=2;break;case 9:r=T;case 10:if(!(r>=0)){e.next=17;break}if(M[r]){e.next=14;break}return e.next=14,ce(n.author,k[r],r);case 14:r--,e.next=10;break;case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e,n,r){return new Promise(function(){var o=Object(d.a)(l.a.mark((function o(c){var s,i,u,d;return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=7;break}if(M[r]){o.next=7;break}return o.next=4,t.fetchSeriesDetail(e,n,r);case 4:s=o.sent,i=M,s?(u=["https://images.hive.blog/DQmXcA3xhDNEaesBeRzy3eq3Jw1zyGQEjzHY1DPc84P7peA/inkito-banner.png","https://img.youtube.com/vi/WfD8Dnh2xho/0.jpg","http://eurobeast.dk/misc/public/Katharsisdrill_rund_150X150.png","https://i.creativecommons.org/l/by/4.0/88x31.png","http://phillfromgchq.co.uk/images/other/bitcoin.png","http://phillfromgchq.co.uk/images/other/katharsisdrill.png","http://phillfromgchq.co.uk/images/other/steem.png","http://phillfromgchq.co.uk/images/other/flattr.png","http://phillfromgchq.co.uk/images/other/patreon.png","http://phillfromgchq.co.uk/images/other/flattr.png","http://eurobeast.dk/misc/public/Katharsisdrill_rund_150X150.png","http://eurobeast.dk/misc/Steemit/September/Phill001_ikon.jpg","http://phillfromgchq.co.uk/images/other/streg.png","https://img1.steemit.com/0x0/http://eurobeast.dk/misc/Steemit/Serier/Phill_link.jpg","http://phillfromgchq.co.uk/images/other/Patreon_logo_ny.png","http://phillfromgchq.co.uk/images/other/liberapay_logo.png","http://phillfromgchq.co.uk/images/other/liberapay_logo_ny.png"],d=[/http:\/\/eurobeast\.dk\/.*450\.jpg/g],s.image=s.image.filter((function(e){return!u.includes(e)&&!d.some((function(t){return e.match(t)}))})),i[r]=s,G(r),_(i),1===s.image.length&&"spread"===H.mode&&E(Object(a.a)(Object(a.a)({},H),{},{mode:"page"})),c(s)):c(void 0);case 7:c(void 0);case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())},se={toggleBgColor:function(){"white"===H.background?E(Object(a.a)(Object(a.a)({},H),{},{background:"black"})):E(Object(a.a)(Object(a.a)({},H),{},{background:"white"}))},toggleMode:function(e){E(Object(a.a)(Object(a.a)({},H),{},{mode:e}))},toggleAutoVote:function(){Z(Object(a.a)(Object(a.a)({},$),{},{autoVoteOn:!$.autoVoteOn}))},vote:function(){var e=p[0],n=null===e||void 0===e?void 0:e.author,r=null===e||void 0===e?void 0:e.permlink,o=t.userDetail.name;t.vote(o,n,r,1e4,void 0)},fetchAll:function(){oe()}},ae={next:function(){var e,t,n=(null===(e=M[T])||void 0===e||null===(t=e.image)||void 0===t?void 0:t.length)||0;"spread"===H.mode?0===W&&0===T?q(W+1):W<n-2?q(W+2):W<n-1&&(T>0&&n%2>0||0===T&&n%2===0)?q(W+1):T<k.length-1&&(P(T+1),q(0)):"vertical"===H.mode?T<k.length-1&&P(T+1):W<n-1?q(W+1):T<k.length-1&&(P(T+1),q(0))},previous:function(){var e,t,n,r,o=(null===(e=M[T])||void 0===e||null===(t=e.image)||void 0===t?void 0:t.length)||0,c=(null===(n=M[T-1])||void 0===n||null===(r=n.image)||void 0===r?void 0:r.length)||0;"spread"===H.mode?1===W?q(W-1):W>1?q(W===o-1&&c%2>0?W-1:W-2):T>0&&(T>1&&c%2>0||1===T&&c%2===0?(P(T-1),q(c-1)):(P(T-1),q(c-2))):"vertical"===H.mode?T>0&&P(T-1):T>0?(P(T-1),q(c-1)):W>0&&q(W-1)},to:function(e,t){P(e),q(t||0)}};return Object(b.jsxs)("div",{className:"w-screen relative bg-".concat(H.background," ").concat("vertical"===H.mode?"overflow-x-hidden":"overflow-hidden h-screen"),children:[Object(b.jsx)(fe,{actions:se,go:ae,toggleRender:X,config:H,series:M,current:M[T],seriesInfo:Object(a.a)(Object(a.a)({},i),{},{ranked:p}),episode:T,page:W,userData:$}),Object(b.jsx)("div",{id:"vertical-body",className:"flex flex-col ".concat("vertical"===H.mode?"justify-start items-center px-0 md:px-20 lg:px-30 xl:px-96":"hidden"," z-0"),children:Object(b.jsx)(z,{config:H,episode:T,page:W,series:M,toggleRender:X,setPage:q,setEpisode:P})}),Object(b.jsx)("div",{id:"page-body",className:"flex flex-col ".concat("vertical"===H.mode?"hidden":"w-screen absolute top-0 h-screen justify-center items-center"," z-0"),children:Object(b.jsx)(L,{episode:T,page:W,images:M[T]&&M[T].image,config:H})})]})},pe=function(){o.a.useContext(w);Object(r.useEffect)((function(){return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));var e=function e(t){9===t.keyCode&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",e))};return Object(b.jsx)(k.a,{children:Object(b.jsx)("div",{className:"routes overflow-x-hidden",children:Object(b.jsx)(y.c,{children:Object(b.jsx)(y.a,{path:"/comic-reader",children:Object(b.jsx)(je,{type:"comics"})})})})})};var be=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(O.a,{children:[Object(b.jsx)("html",{lang:"en"}),Object(b.jsx)("title",{children:"Inkito | Help authors get crypto currency rewards for their story"}),Object(b.jsx)("meta",{name:"description",content:"Inkito is a comic and novel hosting powered by the Hive blockchain. Creators can earn crypto currency for their content in proportion to the attention received."})]}),Object(b.jsx)(pe,{})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1436)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),o(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(v,{children:Object(b.jsx)(O.b,{children:Object(b.jsx)(be,{})})})}),document.getElementById("root")),me()},211:function(e,t){function n(e){var t,n,r,o,c,s,a,i=e.tokens,l=!1,u=!0;for(n=0,r=i.length;n<r;n++)if("inline"===i[n].type){for(a=[],t=(o=i[n].children).length-1;t>=0;t--)if(o[t]){var d=/(https?:\/\/.*\.(?:png|jpg))/;"text"===o[t].type&&o[t].content.match(d)&&(s=(c=o[t].content.match(d))[0].slice(-14,c[0].length).replace(/-/gi,""),a.push({type:"image",src:c[0],title:"",alt:l?"infoImage":s,level:o[t].level})),l||"htmltag"!==o[t].type||"<hr/>"!==o[t].content||(l=!0),"image"===o[t].type&&u?u=!1:"image"===o[t].type&&l&&!u&&(o[t].alt="infoImage"),a.length>0&&(i[n].children=o=[].concat(a))}}else"hr"===i[n].type&&(l=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.imgify=function(e){e.core.ruler.push("imgify",n)}},772:function(e,t,n){},773:function(e,t,n){}},[[1416,1,2]]]);
//# sourceMappingURL=main.53d2d561.chunk.js.map